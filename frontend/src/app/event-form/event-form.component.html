<form [formGroup]="eventForm" (ngSubmit)="saveEvent()">
  <div>
    {{currentLoggedInUser}}
  </div>
  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="eventTitle">Title:</label>
        <input id="eventTitle" type="text" name="eventTitle" formControlName="eventTitle" class="form-control"
               required
               minlength="2"/>
        <div
          *ngIf="eventForm.controls.eventTitle.invalid && (eventForm.controls.eventTitle.dirty || eventForm.controls.eventTitle.touched)"
          class="alert alert-danger">
          <div *ngIf="eventForm.controls.eventTitle.errors.required">
            Title is required!
          </div>
          <div *ngIf="eventForm.controls.eventTitle.errors.minlength">
            Title must be at least 2 characters long!
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="eventOrganizer">Organizer</label>
        <input id="eventOrganizer" type="text" name="eventOrganizer" formControlName="eventOrganizer"
               class="form-control"/>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="eventDescription">Description</label>
        <input id="eventDescription" type="text" name="eventDescription" formControlName="eventDescription"
               class="form-control" required minlength="2"/>
        <div
          *ngIf="eventForm.controls.eventDescription.invalid && (eventForm.controls.eventDescription.dirty || eventForm.controls.eventDescription.touched)"
          class="alert alert-danger">
          <div *ngIf="eventForm.controls.eventDescription.errors.required">
            Title is required!
          </div>
          <div *ngIf="eventForm.controls.eventDescription.errors.minlength">
            Title must be at least 2 characters long!
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col">
    <label>Sport</label>
    <div class="form-check">
      <ngx-select id="sport" [items]="sportOptions" name="sport" formControlName="sport"
                  [multiple]="false" optionTextField="sportName"></ngx-select>
    </div>
  </div>

  <div class="col">
    <label>Type</label>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="eventType" id="radio3" formControlName="eventType"
             value="JUSTFORFUN">
      <label class="form-check-label" for="radio1">
        Just for fun
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="eventType" id="radio1" formControlName="eventType"
             value="TRAINING">
      <label class="form-check-label" for="radio2">
        Training
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="eventType" id="radio2" formControlName="eventType"
             value="COMPETITION">
      <label class="form-check-label" for="radio3">
        Competition
      </label>
    </div>


    <div
      *ngIf="eventForm.controls.eventType.invalid && (eventForm.controls.eventType.dirty || eventForm.controls.eventType.touched)"
      class="alert alert-danger">
      <div *ngIf="eventForm.controls.eventType.errors.required">
        Town is required!
      </div>
    </div>
  </div>


  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="eventTown">Town:</label>
        <input id="eventTown" type="text" name="eventTown" formControlName="eventTown"
               class="form-control" required minlength="2"/>
        <div
          *ngIf="eventForm.controls.eventTown.invalid && (eventForm.controls.eventTown.dirty || eventForm.controls.eventTown.touched)"
          class="alert alert-danger">
          <div *ngIf="eventForm.controls.eventTown.errors.required">
            Town is required!
          </div>
          <div *ngIf="eventForm.controls.eventTown.errors.minlength">
            Town must be at least 2 characters long!
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="eventZIP">ZIP:</label>
        <input id="eventZIP" type="number" name="eventZIP" formControlName="eventZIP"
               class="form-control" required/>
        <div
          *ngIf="eventForm.controls.eventZIP.invalid && (eventForm.controls.eventZIP.dirty || eventForm.controls.eventZIP.touched)"
          class="alert alert-danger">
          <div *ngIf="eventForm.controls.eventZIP.errors.required">
            ZIP is required!
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="eventStreet">Street:</label>
        <input id="eventStreet" type="text" name="eventStreet" formControlName="eventStreet"
               class="form-control" required minlength="2"/>
        <div
          *ngIf="eventForm.controls.eventStreet.invalid && (eventForm.controls.eventStreet.dirty || eventForm.controls.eventStreet.touched)"
          class="alert alert-danger">
          <div *ngIf="eventForm.controls.eventStreet.errors.required">
            Street is required!
          </div>
          <div *ngIf="eventForm.controls.eventStreet.errors.minlength">
            Street must be at least 2 characters long!
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <label for="eventDateTime">Date:</label>
      <input id="eventDateTime" type="text" bsDatepicker name="eventDateTime" formControlName="eventDateTime"
             class="form-control"/>
    </div>
  </div>

  <!-- Media Input -->

  <div class="row">
    <div class="col">
      <app-mediainput name="image" formControlName="image"></app-mediainput>
    </div>
  </div>

  <div class="btn-group">
    <button type="submit" class="btn btn-primary" [disabled]="eventForm.invalid">
      Save
    </button>
    <button type="submit" (click)="setShouldNavigateToList()" class="btn btn-primary" [disabled]="eventForm.invalid">
      Save and Back
    </button>
    <button type="submit" (click)="navigateToList()" class="btn btn-primary">
      Back without saving
    </button>
    <button type="submit" (click)="navigateToList()" class="btn btn-primary">
      Back
    </button>

  </div>
</form>
